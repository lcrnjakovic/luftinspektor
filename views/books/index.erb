<h5 class="font-monospace ms-3 mt-4">List of books I've read and plan to read</h5>
<p class="font-monospace text-muted my-1 ms-3">Click on a row to reveal my favorite quote</p>
<div class="d-flex justify-content-center mx-3 my-3">
  <table class="table table-hover">
    <thead>
      <th>Title</th>
      <th>Author</th>
      <th>Type</th>
      <th>Status</th>
      <th>Year Read</th>
      <th>Rating</th>
    </thead>
    <tbody>
      <% @books.each do |book| %>
        <% if book.quote %>
          <tr data-bs-toggle="collapse" data-bs-target="#collapse<%= book.id %>" aria-expanded="false" aria-controls="collapse<%= book.id %>">
        <% else %>
          <tr>
        <% end %>
          <td><%= book.title %></td>
          <td><%= book.author%></td>
          <td>
            <span class="badge text-bg-secondary"><%= Book::TYPES[book.type.to_sym] %></span>
          </td>
          <td>
            <span class="badge text-bg-<%= Book::STATUS_TAGS[book.status.to_sym] %>"><%= Book::STATUSES[book.status.to_sym] %></span>
          </td>
          <td><%= book.year_read%></td>
          <td>
            <% if book.rating %>
              <% book.rating.times do %>
                <i class="bi bi-star-fill"></i>
              <% end %>
              <% (5 - book.rating).times do %>
                <i class="bi bi-star"></i>
              <% end %>
            <% end %>
          </td>
        </tr>
        <tr class="collapse" id="collapse<%= book.id %>">
          <td colspan="6" class="pt-3 px-3"><p class="fw-light fst-italic"><%= book.quote if book.quote %></p></td>
        </tr>
      <% end %>
    </tbody>
  </table>
</div>
